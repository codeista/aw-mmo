# SpacetimeDB development container
FROM rust:1.75-slim

# Install dependencies
RUN apt-get update && apt-get install -y \
    curl \
    git \
    pkg-config \
    libssl-dev \
    && rm -rf /var/lib/apt/lists/*

# Install SpacetimeDB
RUN curl --proto '=https' --tlsv1.2 -sSf https://install.spacetimedb.com | sh

# Add spacetime to PATH
ENV PATH="/root/.spacetime/bin:${PATH}"

WORKDIR /app

EXPOSE 3000

CMD ["spacetime", "dev", "--listen-addr", "0.0.0.0:3000"]